---
import { getRelativeLocaleUrl } from "astro:i18n";
import { languageList } from "../i18n/ui";
import { useTranslations } from "../i18n/utils";

const currentLang = Astro.currentLocale || "es";
const translateLabels = useTranslations(currentLang as keyof typeof languageList);

// Array de enlaces de "Explora"
const exploreLinks = [
  {
    href: getRelativeLocaleUrl(currentLang, "/"),
    label: translateLabels("nav.home"),
    icon: `<svg class="w-4 h-4" fill="#FF6F61" viewBox="0 0 20 20">
             <path d="M10 2L2 9h3v9h4v-6h2v6h4V9h3L10 2z" />
           </svg>`
  },
  {
    href: getRelativeLocaleUrl(currentLang, "guias"),
    label: translateLabels("nav.guides"),
    icon: `<svg class="w-4 h-4" fill="#6B5B95" viewBox="0 0 24 24">
             <path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6zm0 2h12v12H6V4z"/>
           </svg>`
  },
  {
    href: getRelativeLocaleUrl(currentLang, "herramientas"),
    label: translateLabels("nav.tools"),
    icon: `<svg class="w-4 h-4" fill="#4CAF50" viewBox="0 0 20 20">
             <path d="M11.3 1.046a1 1 0 0 0-2.6 0l-.38.93a1 1 0 0 1-.9.63l-1.03.15a1 1 0 0 0-.74.54l-.65 1.22a1 1 0 0 1-.76.54l-1.02.15a1 1 0 0 0-.68 1.32l.38.93a1 1 0 0 1 0 .63l-.38.93a1 1 0 0 0 .68 1.32l1.02.15a1 1 0 0 1 .76.54l.65 1.22a1 1 0 0 0 .74.54l1.03.15a1 1 0 0 1 .9.63l.38.93a1 1 0 0 0 2.6 0l.38-.93a1 1 0 0 1 .9-.63l1.03-.15a1 1 0 0 0 .74-.54l.65-1.22a1 1 0 0 1 .76-.54l1.02-.15a1 1 0 0 0 .68-1.32l-.38-.93a1 1 0 0 1 0-.63l.38-.93a1 1 0 0 0-.68-1.32l-1.02-.15a1 1 0 0 1-.76-.54l-.65-1.22a1 1 0 0 0-.74-.54l-1.03-.15a1 1 0 0 1-.9-.63zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
           </svg>`
  },
  {
    href: getRelativeLocaleUrl(currentLang, "descargas"),
    label: translateLabels("nav.download"),
    icon: `<svg class="w-4 h-4" fill="#00BCD4" viewBox="0 0 20 20">
             <path d="M16.88 10.24a4 4 0 0 0-2.108-2.116C19.88 3.5 12 3.5 12 3.5s-7.88 0-9.39.57a4 4 0 0 0-2.108 2.116C0 7.715 0 12 0 12s0 4.285.502 5.814a4 4 0 0 0 2.108 2.116C4.12 20.5 12 20.5 12 20.5s7.88 0 9.39-.57a4 4 0 0 0 2.108-2.116C24 16.285 24 12 24 12s0-4.285-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
           </svg>`
  }
];

// Array de enlaces de "Redes" (socialLinks)
const socialLinks = [
  {
    href: "https://x.com/CodeF1ow",
    ariaLabel: translateLabels("aria.social.twitter"),
    icon: `<svg class="w-5 h-5" fill="#1DA1F2" viewBox="0 0 24 24">
             <path d="M22.46 6c-.77.35-1.6.58-2.46.69a4.3 4.3 0 0 0 1.88-2.37 8.59 8.59 0 0 1-2.72 1.04 4.27 4.27 0 0 0-7.3 3.9 12.12 12.12 0 0 1-8.8-4.46 4.27 4.27 0 0 0 1.32 5.7 4.23 4.23 0 0 1-1.93-.54v.05a4.28 4.28 0 0 0 3.42 4.18 4.3 4.3 0 0 1-1.92.07 4.28 4.28 0 0 0 4 2.98A8.57 8.57 0 0 1 2 18.57 12.09 12.09 0 0 0 6.56 20c7.88 0 12.2-6.53 12.2-12.2 0-.19 0-.38-.01-.57A8.66 8.66 0 0 0 24 4.56a8.5 8.5 0 0 1-2.54.7z"/>
           </svg>`
  },
  {
    href: "https://github.com/CodeF1ow",
    ariaLabel: translateLabels("aria.social.github"),
    icon: `<svg class="w-5 h-5" fill="#6B5B95" viewBox="0 0 24 24">
             <path fill-rule="evenodd" d="M12 0C5.37 0 0 5.37 0 12a12 12 0 0 0 8.21 11.42c.6.11.82-.26.82-.58v-2.17c-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.34-1.77-1.34-1.77-1.09-.75.08-.74.08-.74 1.2.08 1.83 1.24 1.83 1.24 1.07 1.83 2.8 1.3 3.49.99.11-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.12-.3-.54-1.53.12-3.19 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23.66 1.66.24 2.89.12 3.19.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.93.43.37.82 1.1.82 2.22v3.29c0 .32.22.69.82.57A12 12 0 0 0 24 12c0-6.63-5.37-12-12-12z" clip-rule="evenodd"/>
           </svg>`
  },
  {
    href: "https://www.youtube.com/channel/UCN6ydnskxN9b47zPDL6rVVQ",
    ariaLabel: translateLabels("aria.social.youtube"),
    icon: `<svg class="w-5 h-5" fill="#FF0000" viewBox="0 0 24 24">
             <path d="M23.498 6.186a2.993 2.993 0 0 0-2.108-2.116C19.88 3.5 12 3.5 12 3.5s-7.88 0-9.39.57a2.993 2.993 0 0 0-2.108 2.116C0 7.715 0 12 0 12s0 4.285.502 5.814a2.993 2.993 0 0 0 2.108 2.116C4.12 20.5 12 20.5 12 20.5s7.88 0 9.39-.57a2.993 2.993 0 0 0 2.108-2.116C24 16.285 24 12 24 12s0-4.285-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
           </svg>`
  },
  {
    href: "https://discord.com/channels/@me/415909552014360577",
    ariaLabel: translateLabels("aria.social.discord"),
    icon: `<svg class="w-5 h-5" fill="#7289DA" viewBox="0 0 24 24">
             <path d="M20.317 4.37a19.79 19.79 0 0 0-4.885-1.516.074.074 0 0 0-.078.037c-.211.375-.445.865-.608 1.25-1.845-.276-3.68-.276-5.487 0-.164-.393-.406-.874-.618-1.25a.077.077 0 0 0-.078-.037A19.74 19.74 0 0 0 3.38 4.37a.07.07 0 0 0-.032.028C.533 9.046-.32 13.58.1 18.058a.082.082 0 0 0 .031.056c2.053 1.508 4.041 2.423 5.993 3.03a.077.077 0 0 0 .084-.028c.462-.63.873-1.295 1.226-1.994a.076.076 0 0 0-.042-.106c-1.318-.618-2.493-1.408-3.563-2.356a.082.082 0 0 1-.008-.086c.252-.36.562-.72.915-1.072a.076.076 0 0 1 .079-.01c3.93 1.793 8.18 1.793 12.06 0a.076.076 0 0 1 .079.01c.353.352.663.712.915 1.072a.076.076 0 0 1-.008.086c-1.07.948-2.245 1.738-3.563 2.356a.076.076 0 0 0-.042.106c.364.697.775 1.362 1.225 1.994a.077.077 0 0 0 .084.028c1.961-.607 3.95-1.522 6.003-3.03a.082.082 0 0 0 .031-.056c.423-4.478-.32-8.012-2.17-10.66a.061.061 0 0 1-.032.028zM8.02 15.33c-1.183 0-2.157-1.086-2.157-2.42 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.086-2.157-2.42 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.419-2.157 2.419z"/>
           </svg>`
  },
  {
    href: "https://www.linkedin.com/in/codef1ow",
    ariaLabel: translateLabels("aria.social.linkedin"),
    icon: `<svg class="w-5 h-5" fill="#0077B5" viewBox="0 0 24 24">
             <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.788-1.75-1.758 0-.97.784-1.758 1.75-1.758s1.75.788 1.75 1.758c0 .97-.784 1.758-1.75 1.758zm13.5 11.268h-3v-5.604c0-1.337-.026-3.062-1.867-3.062-1.867 0-2.153 1.46-2.153 2.969v5.697h-3v-10h2.881v1.367h.041c.401-.76 1.379-1.562 2.838-1.562 3.036 0 3.6 2 3.6 4.601v5.594z"/>
           </svg>`
  },
  {
    href: "https://www.reddit.com/user/Kiri-86",
    ariaLabel: translateLabels("aria.social.reddit"),
    icon: `<svg class="w-5 h-5" fill="#FF4500" viewBox="0 0 24 24">
             <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.876-.117-.84-.222-2.128.046-3.047.242-.834 1.563-5.322 1.563-5.322s-.4-.8-.4-1.982c0-1.859 1.077-3.247 2.414-3.247 1.137 0 1.684.853 1.684 1.875 0 1.142-.73 2.847-1.106 4.426-.315 1.326.665 2.404 1.976 2.404 2.371 0 4.192-2.508 4.192-6.132 0-3.213-2.314-5.465-5.62-5.465-3.833 0-6.082 2.87-6.082 5.834 0 1.145.44 2.375.994 3.046a.4.4 0 0 1-.042.106c-1.318.618-2.493 1.408-3.563 2.356a.082.082 0 0 0-.008.086c.252.36.562.72.915 1.072a.076.076 0 0 0 .079.01c3.93 1.793 8.18 1.793 12.06 0a.076.076 0 0 0 .079-.01c.353-.352.663-.712.915-1.072a.082.082 0 0 0-.008-.086c-1.07-.948-2.245-1.738-3.563-2.356a.076.076 0 0 1-.042-.106c.364-.697.775-1.362 1.225-1.994a.076.076 0 0 1 .084-.028c1.961.607 3.95 1.522 6.003 3.03a.082.082 0 0 1 .031.056c.423 4.478-.32 8.012-2.17 10.66a.061.061 0 0 1-.032.028zM9.545 15.33c-1.183 0-2.157-1.086-2.157-2.42 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.086-2.157-2.42 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.42 0 1.333-.956 2.419-2.157 2.419z"/>
           </svg>`
  }
];
---
<footer class="bg-gradient-to-br from-[#1A1A1A] to-[#2d2d2d] text-gray-300 pt-8 pb-4">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
      
      <!-- Tarjeta Logo + Descripción -->
      <div class="p-4 bg-white/5 rounded-xl backdrop-blur-sm border border-white/10 transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-[0_8px_24px_rgba(255,111,97,0.15)]">
        <div class="mb-4">
          <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#FF6F61] to-[#6B5B95]">
            CodeXtremeOS 11 - 24H2
          </span>
        </div>
        <p class="text-sm dark:text-gray-400 mb-4">
          {translateLabels("footer.description")}
        </p>
        <div class="flex flex-col gap-4">
          <div class="flex gap-2">
            <span class="px-2 py-1 text-xs bg-[#FF6F61]/10 text-[#FF6F61] rounded-full transition-transform hover:scale-105">
              {translateLabels("footer.version")}
            </span>
            <span class="px-2 py-1 text-xs bg-[#6B5B95]/10 text-[#6B5B95] rounded-full transition-transform hover:scale-105">
              {translateLabels("footer.stable")}
            </span>
          </div>
          <a
            href={getRelativeLocaleUrl(currentLang, "descargas")}
            class="inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-[#FF6F61] to-[#6B5B95] rounded-lg hover:opacity-90 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_4px_20px_-6px_rgba(255,111,97,0.6)] relative overflow-hidden group"
          >
            <span class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
            {translateLabels("footer.download")}
            <span set:html={`<svg class="w-4 h-4 ml-2 transition-transform group-hover:translate-y-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
            </svg>`}></span>
          </a>
        </div>
      </div>

      <!-- Tarjeta Enlaces con efecto neón -->
      <div class="p-4 bg-white/5 rounded-xl backdrop-blur-sm border border-white/10 transition-all duration-300 hover:border-[#FF6F61]/30 hover:shadow-[0_0_20px_-5px_rgba(255,111,97,0.3)]">
        <h3 class="text-sm font-semibold mb-3 text-[#FF6F61] hover:drop-shadow-[0_0_8px_rgba(255,111,97,0.4)] transition-all duration-300">
          {translateLabels("footer.explore")}
        </h3>
        <ul class="space-y-2">
          {exploreLinks.map(link => (
            <li>
              <a href={link.href} class="text-sm hover:text-[#FF8C78] transition-colors flex items-center gap-2 group">
                <span set:html={link.icon} class="transition-transform duration-300 group-hover:scale-125 group-hover:rotate-[15deg]"></span>
                <span class="relative after:absolute after:bottom-0 after:left-0 after:w-0 after:h-px after:bg-[#FF6F61] after:transition-all after:duration-300 group-hover:after:w-full">
                  {link.label}
                </span>
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Tarjeta Redes con efecto eléctrico mejorado -->
      <div class="p-4 bg-white/5 rounded-xl backdrop-blur-sm border border-white/10 hover:shadow-[0_0_25px_-10px_rgba(107,91,149,0.4)] transition-all duration-300">
        <h3 class="text-sm font-semibold mb-3 text-[#6B5B95]">
          {translateLabels("footer.connect")}
        </h3>
        <div class="grid grid-cols-3 gap-3">
          {socialLinks.map(link => (
            <a
              href={link.href}
              class="p-2 bg-gray-200/10 hover:bg-gray-200/20 rounded-lg transition-all duration-300 flex justify-center relative overflow-hidden group"
              aria-label={link.ariaLabel}
            >
              <span set:html={link.icon} class="w-5 h-5 transition-all duration-500 group-hover:scale-125 group-hover:drop-shadow-[0_0_8px_rgba(107,91,149,0.4)]"></span>
              <div class="absolute inset-0 border border-[#6B5B95]/0 group-hover:border-[#6B5B95]/30 transition-all duration-300 rounded-lg"></div>
            </a>
          ))}
        </div>
      </div>

      <!-- Tarjeta Newsletter con efecto de carga -->
      <div class="p-4 bg-white/5 rounded-xl backdrop-blur-sm border border-white/10 hover:shadow-[0_0_25px_-10px_rgba(76,175,80,0.3)] transition-all duration-300">
        <h3 class="text-sm font-semibold mb-3 text-[#4CAF50]">
          {translateLabels("footer.updates")}
        </h3>
        <p class="text-xs dark:text-gray-400 mb-3">
          {translateLabels("footer.newsletter")}
        </p>
        <form class="flex flex-col md:flex-row gap-2">
          <input
            type="email"
            placeholder={translateLabels("footer.email.placeholder")}
            class="w-full min-w-0 px-3 py-2 text-sm bg-white/5 border border-white/10 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:outline-none placeholder:truncate truncate transition-all duration-300 hover:border-[#4CAF50]/50"
          />
          <button
            type="submit"
            class="md:w-10 w-full py-2 bg-[#4CAF50] hover:bg-[#45a049] text-white rounded-lg text-sm transition-all duration-300 flex items-center justify-center hover:shadow-[0_0_15px_-3px_rgba(76,175,80,0.5)] relative overflow-hidden group"
            title={translateLabels("footer.subscribe")}
          >
            <span class="transition-transform duration-300 group-hover:translate-x-1">→</span>
            <span class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
          </button>
        </form>
      </div>
    </div>

    <!-- Copyright con efecto de chispas -->
    <div class="text-center pt-4 border-t border-white/10">
      <p class="text-xs dark:text-gray-600">
        {translateLabels("footer.copyright")}
        <span class="mx-2">•</span>
        <a href="/privacidad" class="hover:text-[#FF6F61] transition-colors duration-300 relative group">
          {translateLabels("footer.privacy")}
          <span class="absolute left-1/2 -bottom-1 w-0 h-px bg-[#FF6F61] transition-all duration-300 group-hover:w-4/5 group-hover:left-[10%]"></span>
        </a>
        <span class="mx-2">•</span>
        <a href="/terminos" class="hover:text-[#6B5B95] transition-colors duration-300 relative group">
          {translateLabels("footer.terms")}
          <span class="absolute left-1/2 -bottom-1 w-0 h-px bg-[#6B5B95] transition-all duration-300 group-hover:w-4/5 group-hover:left-[10%]"></span>
        </a>
      </p>
    </div>
  </div>
</footer>